<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="37,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">xp</span>, <span class="var type1" id="S3T1U4">yp</span>, <span class="var type1" id="S4T1U5">phi</span>] = projectPoints(<span class="var type1" id="S5T1U8">r</span>, <span class="var type1" id="S6T3U9">delta</span>, <span class="var type1" id="S7T3U10">dist</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="37,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% Koordinaten der Punkte f√ºr die mittlere Spur berechnen</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,4" id="srcline4"> 4</a></span><span class="line">[<span class="var type1" id="S8T1U14">x</span>, <span class="var type1" id="S9T1U15">y</span>, <span class="var type1" id="S4T1U16">phi</span>] = <span class="fcn" id="F19N3:B18">getPointsFromState</span>(<span class="var type1" id="S5T1U19">r</span>, <span class="var type1" id="S6T3U20">delta</span>); </span></span>
<span class="srcline"><span class="lineno"><a href="37,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T1:U12"><span class="var type1" id="S2T1U23">xp</span> = <span class="mxinfo " id="T1:U14">zeros(<span class="mxinfo " id="T3:U15">numel(<span class="var type1" id="S5T1U28">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T1:U17"><span class="var type1" id="S3T1U32">yp</span> = <span class="mxinfo " id="T1:U19">zeros(<span class="mxinfo " id="T3:U20">numel(<span class="var type1" id="S5T1U37">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%% Projektion </span></span></span>
<span class="srcline"><span class="lineno"><a href="37,10" id="srcline10">10</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,11" id="srcline11">11</a></span><span class="line"><span class="comment">% erster Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T3:U22"><span class="var type1" id="S13T3U41">vx</span> = <span class="mxinfo " id="T3:U24">-(<span class="mxinfo " id="T3:U25"><span class="mxinfo " id="T3:U26"><span class="var type1" id="S9T1U46">y</span>(<span class="mxinfo " id="T3:U28">2</span>)</span>-<span class="mxinfo " id="T3:U29"><span class="var type1" id="S9T1U49">y</span>(<span class="mxinfo " id="T3:U31">1</span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T3:U32"><span class="var type1" id="S14T3U53">vy</span> =   <span class="mxinfo " id="T3:U34"><span class="mxinfo " id="T3:U35"><span class="var type1" id="S8T1U56">x</span>(<span class="mxinfo " id="T3:U37">2</span>)</span>-<span class="mxinfo " id="T3:U38"><span class="var type1" id="S8T1U59">x</span>(<span class="mxinfo " id="T3:U40">1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T3:U41"><span class="var type1" id="S15T3U63">betr</span> = <span class="mxinfo " id="T3:U43">sqrt(<span class="mxinfo " id="T3:U44"><span class="mxinfo " id="T3:U45"><span class="var type1" id="S13T3U68">vx</span>^2</span> + <span class="mxinfo " id="T3:U47"><span class="var type1" id="S14T3U71">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T3:U49"><span class="mxinfo " id="T3:U50"><span class="var type1" id="S2T1U76">xp</span>(<span class="mxinfo " id="T3:U52">1</span>)</span> = <span class="mxinfo " id="T3:U53"><span class="mxinfo " id="T3:U54"><span class="var type1" id="S8T1U80">x</span>(<span class="mxinfo " id="T3:U56">1</span>)</span> + <span class="mxinfo " id="T3:U57"><span class="mxinfo " id="T3:U58"><span class="mxinfo " id="T3:U59"><span class="mxinfo " id="T3:U60">1</span>/<span class="var type1" id="S15T3U86">betr</span></span> * <span class="var type1" id="S7T3U87">dist</span></span> * <span class="var type1" id="S13T3U88">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T3:U64"><span class="mxinfo " id="T3:U65"><span class="var type1" id="S3T1U92">yp</span>(<span class="mxinfo " id="T3:U67">1</span>)</span> = <span class="mxinfo " id="T3:U68"><span class="mxinfo " id="T3:U69"><span class="var type1" id="S9T1U96">y</span>(<span class="mxinfo " id="T3:U71">1</span>)</span> + <span class="mxinfo " id="T3:U72"><span class="mxinfo " id="T3:U73"><span class="mxinfo " id="T3:U74"><span class="mxinfo " id="T3:U75">1</span>/<span class="var type1" id="S15T3U102">betr</span></span> * <span class="var type1" id="S7T3U103">dist</span></span> * <span class="var type1" id="S14T3U104">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,18" id="srcline18">18</a></span><span class="line"><span class="comment">%innere Punkte</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,19" id="srcline19">19</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S17T3U107">z</span>=<span class="mxinfo " id="T3:U80">2</span>:<span class="mxinfo " id="T3:U81"><span class="mxinfo " id="T3:U82">numel(<span class="var type1" id="S8T1U113">x</span>)</span>-<span class="mxinfo " id="T3:U84">1</span></span>   </span></span>
<span class="srcline"><span class="lineno"><a href="37,20" id="srcline20">20</a></span><span class="line">        <span class="mxinfo " id="T3:U85"><span class="var type1" id="S13T3U117">vx</span> = <span class="mxinfo " id="T3:U87"><span class="mxinfo " id="T3:U88"><span class="mxinfo " id="T3:U89"><span class="var type1" id="S8T1U121">x</span>(<span class="var type1" id="S17T3U122">z</span>)</span> - <span class="mxinfo " id="T3:U92"><span class="var type1" id="S8T1U124">x</span>(<span class="mxinfo " id="T3:U94"><span class="var type1" id="S17T3U126">z</span>-<span class="mxinfo " id="T3:U96">1</span></span>)</span></span> - <span class="mxinfo " id="T3:U97"><span class="mxinfo " id="T3:U98">0.5</span>*(<span class="mxinfo " id="T3:U99"><span class="mxinfo " id="T3:U100"><span class="var type1" id="S8T1U133">x</span>(<span class="mxinfo " id="T3:U102"><span class="var type1" id="S17T3U135">z</span>+<span class="mxinfo " id="T3:U104">1</span></span>)</span>-<span class="mxinfo " id="T3:U105"><span class="var type1" id="S8T1U138">x</span>(<span class="mxinfo " id="T3:U107"><span class="var type1" id="S17T3U140">z</span>-<span class="mxinfo " id="T3:U109">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,21" id="srcline21">21</a></span><span class="line">        <span class="mxinfo " id="T3:U110"><span class="var type1" id="S14T3U144">vy</span> = <span class="mxinfo " id="T3:U112"><span class="mxinfo " id="T3:U113"><span class="mxinfo " id="T3:U114"><span class="var type1" id="S9T1U148">y</span>(<span class="var type1" id="S17T3U149">z</span>)</span> - <span class="mxinfo " id="T3:U117"><span class="var type1" id="S9T1U151">y</span>(<span class="mxinfo " id="T3:U119"><span class="var type1" id="S17T3U153">z</span>-<span class="mxinfo " id="T3:U121">1</span></span>)</span></span> - <span class="mxinfo " id="T3:U122"><span class="mxinfo " id="T3:U123">0.5</span>*(<span class="mxinfo " id="T3:U124"><span class="mxinfo " id="T3:U125"><span class="var type1" id="S9T1U160">y</span>(<span class="mxinfo " id="T3:U127"><span class="var type1" id="S17T3U162">z</span>+<span class="mxinfo " id="T3:U129">1</span></span>)</span>-<span class="mxinfo " id="T3:U130"><span class="var type1" id="S9T1U165">y</span>(<span class="mxinfo " id="T3:U132"><span class="var type1" id="S17T3U167">z</span>-<span class="mxinfo " id="T3:U134">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,22" id="srcline22">22</a></span><span class="line">        <span class="mxinfo " id="T3:U135"><span class="var type1" id="S15T3U171">betr</span> = <span class="mxinfo " id="T3:U137">sqrt(<span class="mxinfo " id="T3:U138"><span class="mxinfo " id="T3:U139"><span class="var type1" id="S13T3U176">vx</span>^2</span> + <span class="mxinfo " id="T3:U141"><span class="var type1" id="S14T3U179">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,23" id="srcline23">23</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T5:U143"><span class="var type1" id="S15T3U184">betr</span> &lt; <span class="mxinfo " id="T3:U145">0.0001</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="37,24" id="srcline24">24</a></span><span class="line">            <span class="mxinfo " id="T3:U146"><span class="var type1" id="S13T3U188">vx</span> = <span class="mxinfo " id="T3:U148">-(<span class="mxinfo " id="T3:U149"><span class="mxinfo " id="T3:U150"><span class="var type1" id="S9T1U193">y</span>(<span class="var type1" id="S17T3U194">z</span>)</span>-<span class="mxinfo " id="T3:U153"><span class="var type1" id="S9T1U196">y</span>(<span class="mxinfo " id="T3:U155"><span class="var type1" id="S17T3U198">z</span>-<span class="mxinfo " id="T3:U157">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,25" id="srcline25">25</a></span><span class="line">            <span class="mxinfo " id="T3:U158"><span class="var type1" id="S14T3U202">vy</span> = <span class="mxinfo " id="T3:U160"><span class="mxinfo " id="T3:U161"><span class="var type1" id="S8T1U205">x</span>(<span class="var type1" id="S17T3U206">z</span>)</span>-<span class="mxinfo " id="T3:U164"><span class="var type1" id="S8T1U208">x</span>(<span class="mxinfo " id="T3:U166"><span class="var type1" id="S17T3U210">z</span>-<span class="mxinfo " id="T3:U168">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,26" id="srcline26">26</a></span><span class="line">            <span class="mxinfo " id="T3:U169"><span class="var type1" id="S15T3U214">betr</span> = <span class="mxinfo " id="T3:U171">sqrt(<span class="mxinfo " id="T3:U172"><span class="mxinfo " id="T3:U173"><span class="var type1" id="S13T3U219">vx</span>^2</span> + <span class="mxinfo " id="T3:U175"><span class="var type1" id="S14T3U222">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,27" id="srcline27">27</a></span><span class="line">            <span class="mxinfo " id="T3:U177"><span class="mxinfo " id="T3:U178"><span class="var type1" id="S2T1U227">xp</span>(<span class="var type1" id="S17T3U228">z</span>)</span> = <span class="mxinfo " id="T3:U181"><span class="mxinfo " id="T3:U182"><span class="var type1" id="S8T1U231">x</span>(<span class="var type1" id="S17T3U232">z</span>)</span> + <span class="mxinfo " id="T3:U185"><span class="mxinfo " id="T3:U186"><span class="mxinfo " id="T3:U187"><span class="mxinfo " id="T3:U188">1</span>/<span class="var type1" id="S15T3U237">betr</span></span> * <span class="var type1" id="S7T3U238">dist</span></span> * <span class="var type1" id="S13T3U239">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,28" id="srcline28">28</a></span><span class="line">            <span class="mxinfo " id="T3:U192"><span class="mxinfo " id="T3:U193"><span class="var type1" id="S3T1U243">yp</span>(<span class="var type1" id="S17T3U244">z</span>)</span> = <span class="mxinfo " id="T3:U196"><span class="mxinfo " id="T3:U197"><span class="var type1" id="S9T1U247">y</span>(<span class="var type1" id="S17T3U248">z</span>)</span> + <span class="mxinfo " id="T3:U200"><span class="mxinfo " id="T3:U201"><span class="mxinfo " id="T3:U202"><span class="mxinfo " id="T3:U203">1</span>/<span class="var type1" id="S15T3U253">betr</span></span> * <span class="var type1" id="S7T3U254">dist</span></span> * <span class="var type1" id="S14T3U255">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,30" id="srcline30">30</a></span><span class="line">            <span class="mxinfo " id="T3:U207"><span class="mxinfo " id="T3:U208"><span class="var type1" id="S2T1U260">xp</span>(<span class="var type1" id="S17T3U261">z</span>)</span> = <span class="mxinfo " id="T3:U211"><span class="mxinfo " id="T3:U212"><span class="var type1" id="S8T1U264">x</span>(<span class="var type1" id="S17T3U265">z</span>)</span> - <span class="mxinfo " id="T3:U215"><span class="mxinfo " id="T3:U216"><span class="mxinfo " id="T3:U217"><span class="mxinfo " id="T3:U218"><span class="mxinfo " id="T3:U219">sign(<span class="mxinfo " id="T3:U220"><span class="var type1" id="S5T1U273">r</span>(<span class="mxinfo " id="T3:U222"><span class="var type1" id="S17T3U275">z</span>+<span class="mxinfo " id="T3:U224">1</span></span>)</span>)</span>* <span class="mxinfo " id="T3:U225">1</span></span>/<span class="var type1" id="S15T3U278">betr</span></span> * <span class="var type1" id="S7T3U279">dist</span></span> * <span class="var type1" id="S13T3U280">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,31" id="srcline31">31</a></span><span class="line">            <span class="mxinfo " id="T3:U229"><span class="mxinfo " id="T3:U230"><span class="var type1" id="S3T1U284">yp</span>(<span class="var type1" id="S17T3U285">z</span>)</span> = <span class="mxinfo " id="T3:U233"><span class="mxinfo " id="T3:U234"><span class="var type1" id="S9T1U288">y</span>(<span class="var type1" id="S17T3U289">z</span>)</span> - <span class="mxinfo " id="T3:U237"><span class="mxinfo " id="T3:U238"><span class="mxinfo " id="T3:U239"><span class="mxinfo " id="T3:U240"><span class="mxinfo " id="T3:U241">sign(<span class="mxinfo " id="T3:U242"><span class="var type1" id="S5T1U297">r</span>(<span class="mxinfo " id="T3:U244"><span class="var type1" id="S17T3U299">z</span>+<span class="mxinfo " id="T3:U246">1</span></span>)</span>)</span>* <span class="mxinfo " id="T3:U247">1</span></span>/<span class="var type1" id="S15T3U302">betr</span></span> * <span class="var type1" id="S7T3U303">dist</span></span> * <span class="var type1" id="S14T3U304">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,32" id="srcline32">32</a></span><span class="line">        <span class="keyword">end</span>               </span></span>
<span class="srcline"><span class="lineno"><a href="37,33" id="srcline33">33</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,34" id="srcline34">34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,35" id="srcline35">35</a></span><span class="line"><span class="comment">%letzter Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T3:U251"><span class="var type1" id="S17T3U307">z</span>=<span class="mxinfo " id="T3:U253">numel(<span class="var type1" id="S8T1U310">x</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,37" id="srcline37">37</a></span><span class="line"><span class="mxinfo " id="T3:U255"><span class="var type1" id="S13T3U313">vx</span> = <span class="mxinfo " id="T3:U257">-(<span class="mxinfo " id="T3:U258"><span class="mxinfo " id="T3:U259"><span class="var type1" id="S9T1U318">y</span>(<span class="var type1" id="S17T3U319">z</span>)</span>-<span class="mxinfo " id="T3:U262"><span class="var type1" id="S9T1U321">y</span>(<span class="mxinfo " id="T3:U264"><span class="var type1" id="S17T3U323">z</span>-<span class="mxinfo " id="T3:U266">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T3:U267"><span class="var type1" id="S14T3U327">vy</span> = <span class="mxinfo " id="T3:U269"><span class="mxinfo " id="T3:U270"><span class="var type1" id="S8T1U330">x</span>(<span class="var type1" id="S17T3U331">z</span>)</span>-<span class="mxinfo " id="T3:U273"><span class="var type1" id="S8T1U333">x</span>(<span class="mxinfo " id="T3:U275"><span class="var type1" id="S17T3U335">z</span>-<span class="mxinfo " id="T3:U277">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,39" id="srcline39">39</a></span><span class="line"><span class="mxinfo " id="T3:U278"><span class="var type1" id="S15T3U339">betr</span> = <span class="mxinfo " id="T3:U280">sqrt(<span class="mxinfo " id="T3:U281"><span class="mxinfo " id="T3:U282"><span class="var type1" id="S13T3U344">vx</span>^2</span> + <span class="mxinfo " id="T3:U284"><span class="var type1" id="S14T3U347">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,40" id="srcline40">40</a></span><span class="line"><span class="mxinfo " id="T3:U286"><span class="mxinfo " id="T3:U287"><span class="var type1" id="S2T1U352">xp</span>(<span class="var type1" id="S17T3U353">z</span>)</span> = <span class="mxinfo " id="T3:U290"><span class="mxinfo " id="T3:U291"><span class="var type1" id="S8T1U356">x</span>(<span class="var type1" id="S17T3U357">z</span>)</span> + <span class="mxinfo " id="T3:U294"><span class="mxinfo " id="T3:U295"><span class="mxinfo " id="T3:U296"><span class="mxinfo " id="T3:U297">1</span>/<span class="var type1" id="S15T3U362">betr</span></span> * <span class="var type1" id="S7T3U363">dist</span></span> * <span class="var type1" id="S13T3U364">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,41" id="srcline41">41</a></span><span class="line"><span class="mxinfo " id="T3:U301"><span class="mxinfo " id="T3:U302"><span class="var type1" id="S3T1U368">yp</span>(<span class="var type1" id="S17T3U369">z</span>)</span> = <span class="mxinfo " id="T3:U305"><span class="mxinfo " id="T3:U306"><span class="var type1" id="S9T1U372">y</span>(<span class="var type1" id="S17T3U373">z</span>)</span> + <span class="mxinfo " id="T3:U309"><span class="mxinfo " id="T3:U310"><span class="mxinfo " id="T3:U311"><span class="mxinfo " id="T3:U312">1</span>/<span class="var type1" id="S15T3U378">betr</span></span> * <span class="var type1" id="S7T3U379">dist</span></span> * <span class="var type1" id="S14T3U380">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,42" id="srcline42">42</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="37,43" id="srcline43">43</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="37,44" id="srcline44">44</a></span><span class="line">        </span></span>
</pre>
